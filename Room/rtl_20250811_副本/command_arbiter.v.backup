//==============================================================================
// Command_Arbiter Module
// Generated from Protocol_Arbiter (9).xlsx
// Auto-generated on 2025-08-11 17:38:50
//==============================================================================

module command_arbiter #(
    parameter DDRC_PA_RK_WIDTH = 2,
    parameter DDRC_PA_ROW_WIDTH = 16,
    parameter DDRC_PA_BG_WIDTH = 2,
    parameter DDRC_PA_BK_WIDTH = 2,
    parameter DDRC_PA_SC_WIDTH = 1,
    parameter DDRC_PA_QOS_WIDTH = 4,
    parameter DDRC_PA_RD_INFO_WIDTH = 16,
    parameter DDRC_PA_WR_INFO_WIDTH = 16,
    parameter DDRC_PA_BQ_NUM = 4,
    parameter DDRC_PA_CMD_WIDTH = 5,
    parameter DDRC_PA_PHASE_WIDTH = 2
)(
    input                               act_pre_dfi_vld,
    output                              act_pre_load,
    input                               act_pre_type,
    input    [DDRC_PA_QOS_WIDTH-1:0] [RK_NUM*SC_NUM-1:0] act_pre_qos,
    input                               rdwr_dfi_vld,
    output                              rdwr_dfi_load,
    input                               rdwr_dfi_type,
    input    [DDRC_PA_QOS_WIDTH-1:0] [RK_NUM*SC_NUM-1:0] rdwr_dfi_hqos,
    input    [RK_NUM*SC_NUM-1:0]       preab_req_preall,
    input    [RK_NUM*SC_NUM-1:0]       preab_req_qos_preall,
    output   [RK_NUM*SC_NUM-1:0]       preab_grant_preall,
    input    [RK_NUM*SC_NUM-1:0]       func_req,
    output   [RK_NUM*SC_NUM-1:0]       func_load,
    output   [RK_NUM-1:0]              pa_act2_grant,
    input                               soft_req
);

//==============================================================================
// Local Parameters
//==============================================================================
    localparam RK_NUM = 2**DDRC_PA_RK_WIDTH;
    localparam SC_NUM = 2**DDRC_PA_SC_WIDTH;
    localparam DDRC_SCRKBK_WIDTH = DDRC_PA_SC_WIDTH+DDRC_PA_BK_WIDTH+DDRC_PA_BG_WIDTH+DDRC_PA_RK_WIDTH;
    localparam DDRC_PA_SCRKBGBK_WIDTH = DDRC_PA_SC_WIDTH+DDRC_PA_BK_WIDTH+DDRC_PA_BG_WIDTH+DDRC_PA_RK_WIDTH;
    localparam DDRC_PA_DDRC_PA_RKBKBG_WIDTH = DDRC_PA_RK_WIDTH + DDRC_PA_BG_WIDTH + DDRC_PA_BK_WIDTH;
    localparam DDRC_PA_RDWR_INFO_WIDTH = DDRC_PA_RD_INFO_WIDTH + DDRC_PA_WR_INFO_WIDTH;


//==============================================================================
// Internal Logic

// Grant signals
assign pa_act2_grant = 2'b0; // TODO: Implement logic
assign preab_grant_preall = (mrr_zq_pre_req | func_req | rdwr_dfi_load | act2_req_vld) ? 8'b0 : preab_req_preall;

// Request signals
assign act2_req_vld = (act_pre_type == 2'b01) & act_pre_dfi_vld;
assign rdwr_dfi_load = mrr_zq_pre_req ? 1'b0 : rdwr_dfi_vld;
assign func_load = (rd_wr_load | (act2_req_vld)) ? 8'b0 : func_req;

// Other signals
assign act_pre_load = rd_wr_load ? 1'b0:

endmodule

//==============================================================================
// End of Module
//==============================================================================
